# Конфигурация внешних юнитов (.external-units.json)

Этот файл определяет юниты, которые считаются "внешними" (системными, библиотечными) и не требуют анализа. Анализатор будет пропускать эти юниты при построении графа зависимостей.

## Расположение файла

Файл `.external-units.json` должен находиться в директории исполняемого файла `DelphiDepsAnalyzer.exe`. Этот конфиг будет использоваться для всех анализируемых проектов.

При первом запуске анализатор автоматически создаст конфигурацию по умолчанию.

## Структура файла

```json
{
  "prefixes": [
    "System.",
    "Vcl.",
    "DevExpress."
  ],
  "exactNames": [
    "Windows",
    "SysUtils",
    "madExcept"
  ]
}
```

### Поля:

- **prefixes** — список префиксов для идентификации внешних юнитов
  - Используется для проверки начала имени юнита
  - Пример: `"System."` будет матчить `System.SysUtils`, `System.Classes` и т.д.
  - Регистр не учитывается

- **exactNames** — список точных имён внешних юнитов
  - Используется для точного совпадения имени юнита
  - Пример: `"Windows"` будет матчить только `Windows`, но не `WindowsAPI`
  - Регистр не учитывается

## Пример использования

### Delphi RTL/VCL/FMX (стандартные библиотеки)

```json
"prefixes": [
  "System.",
  "Vcl.",
  "FMX.",
  "Data.",
  "WinApi."
]
```

### Популярные сторонние библиотеки

```json
"prefixes": [
  "DevExpress.",
  "Spring.",
  "DUnitX.",
  "Indy.",
  "TMS.",
  "FastReport."
]
```

### Старые юниты без namespace префиксов

```json
"exactNames": [
  "Windows",
  "SysUtils",
  "Classes",
  "Graphics",
  "Controls",
  "Forms"
]
```

## Зачем это нужно?

1. **Производительность**: Пропуск внешних юнитов значительно ускоряет анализ больших проектов
2. **Чистота графа**: Граф зависимостей будет содержать только код вашего проекта
3. **Индексация**: Анализатор не будет индексировать системные директории

## Рекомендации

- Добавляйте в конфиг префиксы и имена всех используемых сторонних библиотек
- Используйте префиксы когда возможно (охватывают все юниты библиотеки)
- Используйте exactNames для конкретных юнитов или старых библиотек без namespace

## Пример конфига

См. файл [.external-units.example.json](.external-units.example.json) для полного примера конфигурации.
